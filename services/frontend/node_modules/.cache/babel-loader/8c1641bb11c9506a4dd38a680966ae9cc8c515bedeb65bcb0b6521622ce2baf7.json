{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"DICOM Image Processor\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"thresholdInput\"\n}, \"Threshold:\", -1 /* HOISTED */);\nconst _hoisted_3 = [\"disabled\"];\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = {\n  key: 2\n};\nconst _hoisted_7 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.uploadDicomFile && $options.uploadDicomFile(...args)),\n    accept: \".dcm\"\n  }, null, 32 /* HYDRATE_EVENTS */), _hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"thresholdInput\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.threshold = $event),\n    step: \"0.01\",\n    min: \"0\",\n    max: \"1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.threshold]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.processImages && $options.processImages(...args)),\n    disabled: $data.processing\n  }, \"Process Images\", 8 /* PROPS */, _hoisted_3), $data.processing ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Processing...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.result ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, \"Volume: \" + _toDisplayString($data.result) + \" mm³\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.processedImage !== null ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 3,\n    src: $data.processedImage,\n    alt: \"Processed Image\"\n  }, null, 8 /* PROPS */, _hoisted_7)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","for","_createElementBlock","_hoisted_1","type","name","onChange","_cache","args","$options","uploadDicomFile","accept","_hoisted_2","id","$data","threshold","$event","step","min","max","onClick","processImages","disabled","processing","_hoisted_3","_hoisted_4","error","_hoisted_5","_toDisplayString","result","_hoisted_6","processedImage","src","alt"],"sources":["/home/forootani/Downloads/fastapi-vue/services/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>DICOM Image Processor</h1>\n    <input type=\"file\" name=\"file\" @change=\"uploadDicomFile\" accept=\".dcm\" />\n    <label for=\"thresholdInput\">Threshold:</label>\n    <input\n      type=\"number\"\n      id=\"thresholdInput\"\n      v-model=\"threshold\"\n      step=\"0.01\"\n      min=\"0\"\n      max=\"1\"\n    />\n    <button @click=\"processImages\" :disabled=\"processing\">Process Images</button>\n    <p v-if=\"processing\">Processing...</p>\n    <p v-if=\"error\">{{ error }}</p>\n    <p v-if=\"result\">Volume: {{ result }} mm³</p>\n    <img v-if=\"processedImage !== null\" :src=\"processedImage\" alt=\"Processed Image\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      dicomFile: null,\n      result: null,\n      processedImage: null,\n      error: null,\n      processing: false,\n      threshold: 0.5, // Initialize threshold with a default value\n    };\n  },\n  methods: {\n    uploadDicomFile(event) {\n      this.dicomFile = event.target.files[0];\n    },\n    processImages() {\n      if (!this.dicomFile) {\n        this.error = 'Please upload a DICOM image.';\n        return;\n      }\n\n      this.error = null;\n      this.processing = true;\n\n      const formData = new FormData();\n      formData.append('file', this.dicomFile);\n\n      // Send the threshold value along with the file\n      axios\n        .post(`http://localhost:5000/process?threshold=${this.threshold}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' },\n        })\n        .then((response) => {\n          console.log(response);\n          this.result = response.data.volume_mm3;\n        })\n        .catch((error) => {\n          this.error = 'Error processing images. Please try again.';\n          console.error('Error processing images: ', error);\n        })\n        .finally(() => {\n          this.processing = false;\n        });\n    },\n  },\n};\n</script>\n\n<style>\n/* Add your custom styles here */\n</style>\n\n"],"mappings":";gCAEIA,mBAAA,CAA8B,YAA1B,uBAAqB;gCAEzBA,mBAAA,CAA8C;EAAvCC,GAAG,EAAC;AAAgB,GAAC,YAAU;;;;;;;;;;;;;uBAHxCC,mBAAA,CAiBM,cAhBJC,UAA8B,EAC9BH,mBAAA,CAAyE;IAAlEI,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,MAAM;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;IAAEG,MAAM,EAAC;qCAChEC,UAA8C,E,gBAC9CZ,mBAAA,CAOE;IANAI,IAAI,EAAC,QAAQ;IACbS,EAAE,EAAC,gBAAgB;+DACVC,KAAA,CAAAC,SAAS,GAAAC,MAAA;IAClBC,IAAI,EAAC,MAAM;IACXC,GAAG,EAAC,GAAG;IACPC,GAAG,EAAC;iDAHKL,KAAA,CAAAC,SAAS,E,GAKpBf,mBAAA,CAA6E;IAApEoB,OAAK,EAAAb,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAY,aAAA,IAAAZ,QAAA,CAAAY,aAAA,IAAAb,IAAA,CAAa;IAAGc,QAAQ,EAAER,KAAA,CAAAS;KAAY,gBAAc,iBAAAC,UAAA,GAC3DV,KAAA,CAAAS,UAAU,I,cAAnBrB,mBAAA,CAAsC,KAAAuB,UAAA,EAAjB,eAAa,K,mCACzBX,KAAA,CAAAY,KAAK,I,cAAdxB,mBAAA,CAA+B,KAAAyB,UAAA,EAAAC,gBAAA,CAAZd,KAAA,CAAAY,KAAK,oB,mCACfZ,KAAA,CAAAe,MAAM,I,cAAf3B,mBAAA,CAA6C,KAAA4B,UAAA,EAA5B,UAAQ,GAAAF,gBAAA,CAAGd,KAAA,CAAAe,MAAM,IAAG,MAAI,mB,mCAC9Bf,KAAA,CAAAiB,cAAc,a,cAAzB7B,mBAAA,CAAkF;;IAA7C8B,GAAG,EAAElB,KAAA,CAAAiB,cAAc;IAAEE,GAAG,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}